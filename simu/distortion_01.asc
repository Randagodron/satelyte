Version 4
SHEET 1 4448 884
WIRE 2528 -432 1344 -432
WIRE 2528 -400 2528 -432
WIRE 2336 -208 2336 -240
WIRE 3744 -208 3744 -240
WIRE 2304 -192 2272 -192
WIRE 2944 -192 2912 -192
WIRE 3072 -192 3024 -192
WIRE 3136 -192 3072 -192
WIRE 3232 -192 3136 -192
WIRE 3360 -192 3232 -192
WIRE 3392 -192 3360 -192
WIRE 3488 -192 3472 -192
WIRE 3552 -192 3488 -192
WIRE 3712 -192 3552 -192
WIRE 2400 -176 2368 -176
WIRE 2432 -176 2400 -176
WIRE 2528 -176 2528 -320
WIRE 2528 -176 2496 -176
WIRE 3808 -176 3776 -176
WIRE 3840 -176 3808 -176
WIRE 3936 -176 3904 -176
WIRE 2144 -160 2112 -160
WIRE 2160 -160 2144 -160
WIRE 2272 -160 2240 -160
WIRE 2304 -160 2272 -160
WIRE 3136 -160 3136 -192
WIRE 3232 -160 3232 -192
WIRE 3360 -160 3360 -192
WIRE 3616 -160 3520 -160
WIRE 3680 -160 3616 -160
WIRE 3712 -160 3680 -160
WIRE 3936 -128 3936 -176
WIRE 256 -112 256 -144
WIRE 368 -112 368 -144
WIRE 2336 -112 2336 -144
WIRE 3744 -112 3744 -144
WIRE 3232 -64 3232 -96
WIRE 3360 -64 3360 -96
WIRE 3360 -64 3232 -64
WIRE 3392 -64 3360 -64
WIRE 3520 -64 3520 -160
WIRE 3520 -64 3472 -64
WIRE 2272 -32 2272 -160
WIRE 2304 -32 2272 -32
WIRE 2400 -32 2400 -176
WIRE 2400 -32 2368 -32
WIRE 3072 -32 3072 -192
WIRE 3136 -32 3136 -80
WIRE 3232 -32 3232 -64
WIRE 3360 -32 3360 -64
WIRE 704 -16 704 -48
WIRE 256 0 256 -32
WIRE 368 0 368 -32
WIRE 3680 0 3680 -160
WIRE 3712 0 3680 0
WIRE 3808 0 3808 -176
WIRE 3808 0 3792 0
WIRE 3936 0 3936 -48
WIRE 4032 0 3936 0
WIRE 3552 32 3552 -192
WIRE 3616 32 3616 -160
WIRE 3936 32 3936 0
WIRE 2272 64 2272 -32
WIRE 2304 64 2272 64
WIRE 2528 64 2528 -176
WIRE 2528 64 2384 64
WIRE 3072 64 3072 32
WIRE 3136 64 3136 32
WIRE 3232 64 3232 32
WIRE 3360 64 3360 32
WIRE 3360 64 3232 64
WIRE 3392 64 3360 64
WIRE 3488 64 3488 -192
WIRE 3488 64 3472 64
WIRE 768 80 768 48
WIRE 608 96 448 96
WIRE 704 96 704 64
WIRE 704 96 672 96
WIRE 736 96 704 96
WIRE 1424 96 1424 64
WIRE 3232 96 3232 64
WIRE 3360 96 3360 64
WIRE 3680 96 3680 0
WIRE 3712 96 3680 96
WIRE 3808 96 3808 0
WIRE 3808 96 3776 96
WIRE 832 112 832 -48
WIRE 832 112 800 112
WIRE 864 112 832 112
WIRE 976 112 944 112
WIRE 1104 112 976 112
WIRE 1216 112 1104 112
WIRE 1248 112 1216 112
WIRE 1344 112 1344 -432
WIRE 1344 112 1328 112
WIRE 1392 112 1344 112
WIRE 736 128 704 128
WIRE 1488 128 1456 128
WIRE 1520 128 1488 128
WIRE 1616 128 1584 128
WIRE 976 144 976 112
WIRE 1216 144 1216 112
WIRE 1392 144 1376 144
WIRE 1616 160 1616 128
WIRE 3552 160 3552 112
WIRE 3616 160 3616 112
WIRE 3616 160 3552 160
WIRE 3936 160 3936 112
WIRE 768 176 768 144
WIRE 1104 176 1104 112
WIRE 1104 176 1040 176
WIRE 2336 176 2336 144
WIRE 448 192 448 96
WIRE 1424 192 1424 160
WIRE 2144 192 2144 -160
WIRE 2176 192 2144 192
WIRE 2304 192 2256 192
WIRE 3232 192 3232 160
WIRE 3360 192 3360 160
WIRE 3360 192 3232 192
WIRE 3392 192 3360 192
WIRE 3520 192 3520 -64
WIRE 3520 192 3472 192
WIRE 3616 192 3616 160
WIRE 2400 208 2368 208
WIRE 2432 208 2400 208
WIRE 2528 208 2528 64
WIRE 2528 208 2496 208
WIRE 2304 224 2272 224
WIRE 3232 224 3232 192
WIRE 3360 224 3360 192
WIRE 976 240 976 208
WIRE 704 256 704 128
WIRE 736 256 704 256
WIRE 832 256 832 112
WIRE 832 256 800 256
WIRE 1104 256 1104 176
WIRE 1216 256 1216 208
WIRE 1376 256 1376 144
WIRE 1392 256 1376 256
WIRE 1488 256 1488 128
WIRE 1488 256 1472 256
WIRE 1616 272 1616 240
WIRE 1712 272 1616 272
WIRE 2336 272 2336 240
WIRE 832 288 832 256
WIRE 1040 288 1040 176
WIRE 3616 288 3616 256
WIRE 448 304 448 272
WIRE 1616 304 1616 272
WIRE 1712 304 1712 272
WIRE 3232 320 3232 288
WIRE 3360 320 3360 288
WIRE 3360 320 3232 320
WIRE 3392 320 3360 320
WIRE 3488 320 3488 64
WIRE 3488 320 3472 320
WIRE 1216 352 1216 320
WIRE 1280 352 1280 288
WIRE 1280 352 1216 352
WIRE 1376 352 1376 256
WIRE 1408 352 1376 352
WIRE 1488 352 1488 256
WIRE 1488 352 1472 352
WIRE 2272 352 2272 224
WIRE 2304 352 2272 352
WIRE 2400 352 2400 208
WIRE 2400 352 2368 352
WIRE 3232 352 3232 320
WIRE 3360 352 3360 320
WIRE 1104 384 1104 320
WIRE 1216 384 1216 352
WIRE 1376 384 1376 352
WIRE 832 400 832 368
WIRE 1616 400 1616 368
WIRE 1712 416 1712 384
WIRE 1776 416 1712 416
WIRE 1712 448 1712 416
WIRE 2272 448 2272 352
WIRE 2304 448 2272 448
WIRE 2528 448 2528 208
WIRE 2528 448 2384 448
WIRE 3232 448 3232 416
WIRE 3360 448 3360 416
WIRE 3360 448 3232 448
WIRE 3392 448 3360 448
WIRE 3520 448 3520 192
WIRE 3520 448 3472 448
WIRE 1376 480 1376 448
WIRE 704 512 704 256
WIRE 832 512 832 480
WIRE 832 512 704 512
WIRE 704 528 704 512
WIRE 1616 576 1616 480
WIRE 1712 576 1712 528
WIRE 1376 592 1376 560
WIRE 704 624 704 592
WIRE 704 736 704 704
FLAG 256 0 0
FLAG 256 -144 vcc
FLAG 768 176 0
FLAG 768 48 vcc
FLAG 704 736 0
FLAG 368 0 0
FLAG 368 -144 vref
FLAG 976 240 vref
FLAG 448 304 0
FLAG 704 -48 vref
FLAG 1104 384 vref
FLAG 1216 384 vref
FLAG 1424 192 0
FLAG 1424 64 vcc
FLAG 1376 592 0
FLAG 1616 576 vref
FLAG 1712 576 vref
FLAG 1776 416 audio_out_ocd
FLAG 2336 -112 0
FLAG 2336 -240 vcc
FLAG 2336 272 0
FLAG 2336 144 vcc
FLAG 2272 -192 vref
FLAG 3744 -112 0
FLAG 3744 -240 vcc
FLAG 3072 64 0
FLAG 3136 64 0
FLAG 832 -48 audio_gain
FLAG 2912 -192 audio_gain
FLAG 3616 288 0
FLAG 3936 160 vref
FLAG 4032 0 audio_out_prunes
FLAG 2112 -160 audio_gain
SYMBOL AutoGenerated\\TL072 768 112 R0
SYMATTR InstName U1
SYMBOL AutoGenerated\\TL072 1424 128 R0
SYMATTR InstName U2
SYMBOL res 960 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10k
SYMBOL res 1344 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap 800 240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL voltage 256 -128 R0
SYMATTR InstName V1
SYMATTR Value 9
SYMBOL cap 960 144 R0
SYMATTR InstName C2
SYMATTR Value 1n
SYMBOL res 816 272 R0
SYMATTR InstName R3
SYMATTR Value 10k
SYMBOL res 816 384 R0
SYMATTR InstName R4
SYMATTR Value {1MEG*GAIN}
SYMBOL res 688 608 R0
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL cap 688 528 R0
SYMATTR InstName C3
SYMATTR Value 68n
SYMBOL voltage 368 -128 R0
SYMATTR InstName V2
SYMATTR Value 4.5
SYMBOL cap 672 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 470n
SYMBOL voltage 448 176 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value SINE(0 100m 1k)
SYMATTR Value2 AC 100m
SYMBOL res 688 -32 R0
SYMATTR InstName R5
SYMATTR Value 1Meg
SYMBOL AutoGenerated\\BS170 1072 288 R0
SYMATTR InstName U3
SYMBOL AutoGenerated\\BS170 1248 288 R180
SYMATTR InstName U4
SYMBOL diode 1200 144 R0
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL res 1488 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 150k
SYMBOL cap 1472 336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 220p
SYMBOL cap 1360 384 R0
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL res 1360 464 R0
SYMATTR InstName R8
SYMATTR Value 39k
SYMBOL cap 1584 112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 1µ
SYMBOL res 1600 144 R0
SYMATTR InstName R9
SYMATTR Value 10k
SYMBOL cap 1600 304 R0
SYMATTR InstName C8
SYMATTR Value 22n
SYMBOL res 1600 384 R0
SYMATTR InstName R10
SYMATTR Value 15k
SYMBOL res 1696 288 R0
SYMATTR InstName R11
SYMATTR Value {100k*(1-VOL_OCD)}
SYMBOL res 1696 432 R0
SYMATTR InstName R12
SYMATTR Value {100k*VOL_OCD}
SYMBOL AutoGenerated\\TL072 2336 -176 R0
SYMATTR InstName U5
SYMBOL diode 2432 -160 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 2304 -16 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL res 2400 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 10k
SYMBOL res 2256 -176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 10k
SYMBOL res 2272 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 10k
SYMBOL AutoGenerated\\TL072 2336 208 R0
SYMATTR InstName U6
SYMBOL diode 2432 224 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL diode 2304 368 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D5
SYMATTR Value 1N4148
SYMBOL res 2400 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 10k
SYMBOL AutoGenerated\\TL072 3744 -176 R0
SYMATTR InstName U7
SYMBOL res 3040 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value 2k
SYMBOL res 3152 -64 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R18
SYMATTR Value 100k
SYMBOL cap 3120 -32 R0
SYMATTR InstName C9
SYMATTR Value 220n
SYMBOL cap 3056 -32 R0
SYMATTR InstName C10
SYMATTR Value 47n
SYMBOL diode 3216 -160 R0
SYMATTR InstName D6
SYMATTR Value 1N4148
SYMBOL diode 3216 -32 R0
SYMATTR InstName D7
SYMATTR Value 1N4148
SYMBOL diode 3216 96 R0
SYMATTR InstName D8
SYMATTR Value 1N4148
SYMBOL diode 3216 224 R0
SYMATTR InstName D9
SYMATTR Value 1N4148
SYMBOL diode 3216 352 R0
SYMATTR InstName D10
SYMATTR Value 1N4148
SYMBOL diode 3376 -96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D11
SYMATTR Value 1N4148
SYMBOL diode 3376 32 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D12
SYMATTR Value 1N4148
SYMBOL diode 3376 160 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D13
SYMATTR Value 1N4148
SYMBOL diode 3376 288 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D14
SYMATTR Value 1N4148
SYMBOL diode 3376 416 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D15
SYMATTR Value 1N4148
SYMBOL res 3488 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value 56k
SYMBOL res 3488 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R20
SYMATTR Value 20k
SYMBOL res 3488 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 16k
SYMBOL res 3488 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 15k
SYMBOL res 3488 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 16k
SYMBOL res 3488 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 15k
SYMBOL res 3536 16 R0
SYMATTR InstName R25
SYMATTR Value 10k
SYMBOL res 3600 16 R0
SYMATTR InstName R26
SYMATTR Value 10k
SYMBOL cap 3600 192 R0
SYMATTR InstName C11
SYMATTR Value 10µ
SYMBOL res 3808 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R27
SYMATTR Value 390k
SYMBOL cap 3776 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 1n
SYMBOL cap 3904 -192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value 1µ
SYMBOL res 3920 -144 R0
SYMATTR InstName R28
SYMATTR Value {100k*(1-VOL_PRUNES)}
SYMBOL res 3920 16 R0
SYMATTR InstName R29
SYMATTR Value {100k*VOL_PRUNES}
SYMBOL res 2512 -416 R0
SYMATTR InstName R30
SYMATTR Value 2.2k
TEXT 640 -352 Left 2 !.param GAIN=0.5
TEXT 640 -328 Left 2 !.param VOL_OCD=0.5
TEXT 640 -264 Left 2 !;tran 200m
TEXT 640 -304 Left 2 !.param VOL_PRUNES=0.5
TEXT 640 -240 Left 2 !.ac oct 10 10 30k
